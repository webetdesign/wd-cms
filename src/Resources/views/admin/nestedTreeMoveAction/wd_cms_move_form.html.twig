{%- block radio_widget -%}
    <div class="nested_move_item">
        <input type="radio" data-sonata-icheck="false" {{ block('widget_attributes') }}{% if value is defined %} value="{{ value }}"{% endif %}{% if checked %} checked="checked"{% endif %} />
        <label for="{{ id }}" data-label-text="{{ value |trans({}, 'wd_cms') }}">
            <img class="move-mode-img" src="{{ asset('bundles/webetdesigncms/img/NesteMoveIcons/'~value~'.png') }}" alt="">
        </label>
    </div>
{%- endblock radio_widget -%}

{% block wd_cms_move_form_widget %}
    <div class="sonata-ba-collapsed-fields">
        <div class="form-group">
{#            {% form_theme form.moveMode '@WebEtDesignCms/form/cms_nested_move_radio.html.twig' %}#}
            <div class="sonata-ba-field sonata-ba-field-standard-natural">
                {% for item in form.moveMode %}
                    {{ form_widget(item) }}
                {% endfor %}
            </div>
        </div>
        <div class="form-group">
            <label for="{{ form.moveTarget.vars.id }}">{{ form.moveMode.vars.value | trans({}, 'wd_cms') }}</label>
            <div class="sonata-ba-field sonata-ba-field-standard-natural">
                {{ form_widget(form.moveTarget) }}
            </div>
        </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var items = document.querySelectorAll('.nested_move_item')
        items.forEach(function (item) {
          item.addEventListener('click', function () {
            document.querySelector('label[for="{{ form.moveTarget.vars.id }}"]').innerText = item.querySelector('label').dataset.labelText
          })
        })
      })
    </script>
{% endblock wd_cms_move_form_widget %}
