{% extends '@SonataAdmin/CRUD/base_edit_form.html.twig' %}
{% if action == 'create' %}
    {% set options = {
        'id': objectId|default(admin.id(object)),
        'uniqid': admin.uniqid,
        'subclass': app.request.get('subclass'),
        'parent': app.request.attributes.get('parent'),
        'siteId': app.request.get('siteId'),
        'refId': app.request.get('refId')
    } %}
{% else %}
    {% set options = {
        'id': objectId|default(admin.id(object)),
        'uniqid': admin.uniqid,
        'subclass': app.request.get('subclass')
    } %}
{% endif %}
{% block sonata_form_action_url %}{{ admin.generateUrl(action, options) }}{% endblock %}
